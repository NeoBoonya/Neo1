<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>To-Do</title>
    <style>
      body { font-family: sans-serif; max-width: 600px; margin: 2rem auto; }
      h1 { margin-bottom: 1rem; }
      form { display: flex; gap: .5rem; margin-bottom: 1rem; }
      input[type="text"] { flex: 1; padding: .5rem; }
      ul { list-style: none; padding: 0; }
      li { display: flex; align-items: center; justify-content: space-between; padding: .25rem 0; }
      .done { text-decoration: line-through; opacity: .6; }
      a { text-decoration: none; }
    </style>
  </head>
  <body>
    <h1>To-Do</h1>
    <form method="post">
      <input name="item" type="text" placeholder="Add a task..." required />
      <button type="submit">Add</button>
    </form>
    <ul>
      {% for t in todos %}
        <li>
          <span class="{{ 'done' if t.done else '' }}">{{ t.text }}</span>
          <span>
            <a href="{{ url_for('toggle', idx=loop.index0) }}">[toggle]</a>
            <a href="{{ url_for('delete', idx=loop.index0) }}">[delete]</a>
          </span>
        </li>
      {% else %}
        <li>No items yet.</li>
      {% endfor %}
    </ul>
  </body>
</html>
